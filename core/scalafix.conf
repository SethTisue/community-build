// https://github.com/scalacenter/scalafix.git#main

vars.proj.scalafix: ${vars.base} {
  name: "scalafix"
  uri: "https://github.com/scalacenter/scalafix.git#0686db1433f6e4bb4e370f049d464ee562094b90"

  extra.exclude: ["docs"]
  extra.commands: ${vars.default-commands} [
    // so we can still build even with -Xsource:3
    """set testsInput / Compile / unmanagedSources / excludeFilter := HiddenFileFilter || "ConstructorProcedureSyntax.scala" || "ProcedureSyntax.scala" || "ExplicitUnit.scala" || "BetterRscCompat.scala" || "RemoveUnusedTerms.scala" || "AnnotationScopes.scala" || "NoValInForComprehension.scala" || "AnchorExpression.scala" || "AnchorMultipleRules.scala" || "NoUnitInsertion.scala""""
    """set testsOutput / Compile / unmanagedSources / excludeFilter := HiddenFileFilter || "NoValInForComprehension.scala" || "BetterRscCompat.scala" || "RemoveUnusedTerms.scala""""
  ]
}
