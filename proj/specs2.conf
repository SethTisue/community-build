// https://github.com/smarter/specs2.git#new-kind-projector-syntax  # was etorreborre, master

vars.proj.specs2: ${vars.base} {
  name: "specs2"
  uri: "https://github.com/smarter/specs2.git#814d90d58b75d7a5a68c4303190e6d31370429f1"

  // I don't see a project that aggregates JVM-only stuff, so...
  extra.projects: [
    "analysisJVM", "commonJVM", "coreJVM", "fpJVM"
    "matcherExtraJVM", "matcherJVM", "mockJVM", "junitJVM"
    "scalacheckJVM"
  ]
  extra.commands: ${vars.default-commands} [
    "set every credentials := Seq()"
    // makes "configuration not public" errors downstream go away
    "set every publishMavenStyle := false"
  ]
}

// keep this stuff separate so the overall dependency tree is
// flatter and when dependencies fail they don't take out every
// specs2-using project downstream

vars.proj.specs2-more: ${vars.base} {
  name: "specs2-more"
  uri: "https://github.com/smarter/specs2.git#814d90d58b75d7a5a68c4303190e6d31370429f1"

  extra.projects: [
    "shapelessJVM", "catsJVM", "examplesJVM"
  ]
  extra.exclude: [
    // already built in "specs2"
    "analysisJVM", "commonJVM", "coreJVM", "fpJVM", "matcherExtraJVM", "matcherJVM",
    "mockJVM", "junitJVM", "scalacheckJVM", "xmlJVM",
  ]
  extra.commands: ${vars.default-commands} [
    "set every credentials := Seq()"
    // not sure if necessary, but we have it in the specs entry, so let's have it here too
    "set every publishMavenStyle := false"
  ]
}
