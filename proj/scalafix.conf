// https://github.com/scalacenter/scalafix.git#master

// this is split into two because of the weirdness where the testkit
// subproject wants ScalaTest 3.0, but the unit subproject wants 3.2,
// as per discussion on https://github.com/scala/community-build/pull/1290

vars.proj.scalafix: ${vars.base} {
  name: "scalafix"
  uri: "https://github.com/scalacenter/scalafix.git#81220161f7353dc4a1c2e2b95204dfdfaec96bc9"

  extra.exclude: ["docs", "unit"]
  deps.inject: ${vars.base.deps.inject} ["scalacommunitybuild#scalatest"]
  extra.commands: ${vars.default-commands} [
    """set testkit / libraryDependencies += "scalacommunitybuild" %% "scalatest" % "0""""
  ]
}

vars.proj.scalafix-tests: ${vars.base} {
  name: "scalafix-tests"
  uri: "https://github.com/scalacenter/scalafix.git#81220161f7353dc4a1c2e2b95204dfdfaec96bc9"

  extra.projects: ["unit"]
  // these were built above already
  extra.exclude: ["test*", "interfaces", "core", "rules", "reflect", "cli"]
}
