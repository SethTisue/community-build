// https://github.com/ekrich/sconfig.git#43444bcf637b623f8bbd24a12597b87572ac888b  # waas main

// frozen (January 2024) before a change resulting in:
// the library org.json4s#json4s-native-core is not provided (in space "scala.main") by any project in this configuration file

vars.proj.sconfig: ${vars.base} {
  name: "sconfig"
  uri: "https://github.com/ekrich/sconfig.git#43444bcf637b623f8bbd24a12597b87572ac888b"

  extra.exclude: [
    "*Native", "*JS"
    // we don't have the right Scalafix version for these
    "scalafix*"
  ]
  // use right version-specific source directories regardless of our weird dbuild Scala version numbers
  extra.commands: ${vars.default-commands} [
    "set unmanagedSourceDirectories in (sconfigJVM, Compile) += (baseDirectory in ThisBuild).value / \"sconfig\" / \"shared\" / \"src\" / \"main\" / \"scala-2.12\""
    // spray org change (July 2019). presumably before long spray-json will
    // publish their Scala.js/Native support, Eric will change sconfig to use it,
    // and we'll be able to remove this stuff.
    "removeDependency io.crashbox spray-json"
    """set libraryDependencies in sconfigJVM += "io.spray" %% "spray-json" % "0.0.0""""
  ]
  deps.inject: ${vars.base.deps.inject} ["io.spray#spray-json"]
}
