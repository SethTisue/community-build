// https://github.com/scalameta/scalameta.git#master

vars.proj.scalameta: ${vars.base} {
  name: "scalameta"
  uri: "https://github.com/scalameta/scalameta.git#94eba8d88e65edad3ffe897f568bda04fc4ed3ab"

  extra.projects: [
    "semanticdbScalacPlugin", "testsJVM"
    // we may need to re-add other subprojects to get scalafix and/or scalafmt working on 2.13
  ]
  extra.commands: ${vars.default-commands} [
    // use right version-specific source directories regardless of our weird dbuild Scala version numbers
    """set unmanagedSourceDirectories in (commonJVM, Compile) += baseDirectory.value / "scalameta" / "common" / "shared" / "src" / "main" / "scala-2.13""""
    """set unmanagedSourceDirectories in (semanticdbScalacCore, Compile) += baseDirectory.value / "semanticdb" / "scalac" / "library" / "src" / "main" / "scala-2.13""""
  ]
}
