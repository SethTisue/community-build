// https://github.com/scalacommunitybuild/jackson-module-scala.git#community-build-2.13  # was FasterXML, jackson-module-scala-2.12.0

// head of `2.12` branch has a SNAPSHOT dependency, so use a release tag

// but then we're forked from the jackson-module-scala-2.12.0 tag to
// bump the sbt-osgi version so we can build on JDK 15
// PRed upstream: https://github.com/FasterXML/jackson-module-scala/pull/486

vars.proj.jackson-module-scala: ${vars.base} {
  name: "jackson-module-scala"
  uri: "https://github.com/scalacommunitybuild/jackson-module-scala.git#79239f3b8e9b031cd592067b1686f0b378ce3e7f"

  // PRed upstream: https://github.com/FasterXML/jackson-module-scala/pull/485
  deps.inject: ${vars.base.deps.inject} ["org.scalatestplus#junit-4-13"]
  extra.commands: ${vars.default-commands} [
    "removeDependency org.scalatestplus junit-4-12"
    """set ThisBuild / libraryDependencies += "org.scalatestplus" %% "junit-4-13" % "0" % Test"""
  ]
}
